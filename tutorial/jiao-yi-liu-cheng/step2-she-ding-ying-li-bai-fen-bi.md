# STEP2：设定盈利百分比

## 限价下单模式下

开仓：程序将限定的标记价格（最新市场价）开仓（开仓价不变），直到订单完全成交。

平仓：程序基于开仓价格及设定的盈利百分比计算平仓价格，并自动委托平仓。

举例：

> 做多时，程序会在开多成功后自动按照“现价+设定的上浮值（由设定的上浮百分比算出）”委托下单平仓，在行情达到程序设定的平仓价格时即可成交，完成订单的开仓、平仓。

> 做空时，程序会在开空成功后自动按照“现价-设定的下浮值（由设定的下浮百分比算出）”委托下单平仓，在行情达到程序设定的平仓价格时即可成交，完成订单的开仓、平仓。

## 市价下单模式下

开仓：程序将不断按照最新的卖一价或买一价开仓（开仓价可能根据市场价不断变化），直到订单百分之百成交。

平仓：程序基于开仓价格及设定的盈利百分比计算平仓价格，自动委托平仓。：

> 做多时，程序会在开多成功后（按照订单实时成交的部分）自动按照“现价+设定的上浮值（由设定的上浮百分比算出）”委托下单平仓，在行情达到此平仓价格时即可成交。

> 做空时，程序会在开空成功后（按照订单实时成交的部分）自动按照“现价-设定的下浮值（由设定的下浮百分比算出）”委托下单平仓，在行情达到此平仓价格时即可成交，完成订单的开仓、平仓。

## 计划委托模式下

做多时

开仓：程序按照“当前价-设定的下浮值（由设定的下浮百分比算出）”委托下单开多，当行情价格下跌至此价格时，订单即可成交。

平仓：程序会在开多成功后自动按照“成交价+设定的上浮值（由设定的上浮百分比算出）”委托下单平仓，在行情达到此平仓价格时即可成交，完成一个订单的开仓、平仓。

做空时

开仓：程序按照“当前价+设定的上浮值（由设定的上浮百分比算出）”委托下单开空，当行情价格涨至此价格时，订单即可成交。

程序会在开空成功后自动按照“成交价-设定的下浮值（由设定的下浮百分比算出）”委托下单平仓，在行情达到此平仓价格时即可成交，完成一个订单的开仓、平仓。
